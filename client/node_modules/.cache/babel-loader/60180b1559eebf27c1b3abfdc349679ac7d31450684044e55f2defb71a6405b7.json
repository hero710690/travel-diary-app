{"ast":null,"code":"import React,{useState}from'react';import{useDrag}from'react-dnd';import{ClockIcon,TrashIcon,PencilIcon,CheckIcon,XMarkIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DraggableItineraryItem=_ref=>{let{item,onRemove,onUpdate}=_ref;const[isEditing,setIsEditing]=useState(false);const[editTime,setEditTime]=useState(item.time);const[editDuration,setEditDuration]=useState(item.duration||60);const[{isDragging},drag]=useDrag(()=>({type:'itinerary-item',item:item,collect:monitor=>({isDragging:monitor.isDragging()})}));const handleEditStart=()=>{setIsEditing(true);setEditTime(item.time);setEditDuration(item.duration||60);};const handleEditSave=()=>{if(onUpdate){onUpdate(item.id,{time:editTime,duration:editDuration});}setIsEditing(false);};const handleEditCancel=()=>{setIsEditing(false);setEditTime(item.time);setEditDuration(item.duration||60);};return/*#__PURE__*/_jsxs(\"div\",{ref:drag,className:\"bg-white border border-gray-200 rounded-lg p-3 shadow-sm transition-all duration-200 \".concat(isDragging?'opacity-50 shadow-lg transform rotate-2':'hover:shadow-md cursor-move'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:isEditing?/*#__PURE__*/// Edit mode\n_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:editTime,onChange:e=>setEditTime(e.target.value),className:\"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"Duration:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editDuration,onChange:e=>setEditDuration(parseInt(e.target.value)||60),min:\"15\",max:\"480\",step:\"15\",className:\"text-xs border border-gray-300 rounded px-2 py-1 w-16 focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"min\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEditSave,className:\"p-1 text-green-600 hover:text-green-700 transition-colors\",title:\"Save changes\",children:/*#__PURE__*/_jsx(CheckIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEditCancel,className:\"p-1 text-gray-400 hover:text-gray-600 transition-colors\",title:\"Cancel editing\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-4 w-4\"})})]})]}):/*#__PURE__*/// View mode\n_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:item.time}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEditStart,className:\"p-1 text-gray-400 hover:text-blue-500 transition-colors\",title:\"Edit time\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-3 w-3\"})})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 mb-1\",children:item.title}),item.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 truncate\",children:item.description}),item.duration&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:[\"Duration: \",item.duration,\" minutes\"]})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onRemove(item.id),className:\"ml-2 p-1 text-gray-400 hover:text-red-500 transition-colors\",title:\"Remove from itinerary\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]}),isDragging&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-xs text-blue-600 font-medium text-center\",children:\"\\uD83D\\uDD04 Drop on another day to move\"})]});};export default DraggableItineraryItem;","map":{"version":3,"names":["React","useState","useDrag","ClockIcon","TrashIcon","PencilIcon","CheckIcon","XMarkIcon","jsx","_jsx","jsxs","_jsxs","DraggableItineraryItem","_ref","item","onRemove","onUpdate","isEditing","setIsEditing","editTime","setEditTime","time","editDuration","setEditDuration","duration","isDragging","drag","type","collect","monitor","handleEditStart","handleEditSave","id","handleEditCancel","ref","className","concat","children","value","onChange","e","target","parseInt","min","max","step","onClick","title","description"],"sources":["/Users/jeanlee/travel-diary-app/client/src/components/DraggableItineraryItem.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDrag } from 'react-dnd';\nimport { ClockIcon, TrashIcon, PencilIcon, CheckIcon, XMarkIcon } from '@heroicons/react/24/outline';\nimport { ItineraryItem } from '../types';\n\ninterface DraggableItineraryItemProps {\n  item: ItineraryItem;\n  onRemove: (itemId: string) => void;\n  onUpdate?: (itemId: string, updates: Partial<ItineraryItem>) => void;\n}\n\nconst DraggableItineraryItem: React.FC<DraggableItineraryItemProps> = ({\n  item,\n  onRemove,\n  onUpdate\n}) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editTime, setEditTime] = useState(item.time);\n  const [editDuration, setEditDuration] = useState(item.duration || 60);\n\n  const [{ isDragging }, drag] = useDrag(() => ({\n    type: 'itinerary-item',\n    item: item,\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  }));\n\n  const handleEditStart = () => {\n    setIsEditing(true);\n    setEditTime(item.time);\n    setEditDuration(item.duration || 60);\n  };\n\n  const handleEditSave = () => {\n    if (onUpdate) {\n      onUpdate(item.id, {\n        time: editTime,\n        duration: editDuration\n      });\n    }\n    setIsEditing(false);\n  };\n\n  const handleEditCancel = () => {\n    setIsEditing(false);\n    setEditTime(item.time);\n    setEditDuration(item.duration || 60);\n  };\n\n  return (\n    <div\n      ref={drag}\n      className={`bg-white border border-gray-200 rounded-lg p-3 shadow-sm transition-all duration-200 ${\n        isDragging \n          ? 'opacity-50 shadow-lg transform rotate-2' \n          : 'hover:shadow-md cursor-move'\n      }`}\n    >\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex-1\">\n          {isEditing ? (\n            // Edit mode\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center space-x-2\">\n                <ClockIcon className=\"h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"time\"\n                  value={editTime}\n                  onChange={(e) => setEditTime(e.target.value)}\n                  className=\"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <span className=\"text-xs text-gray-500\">Duration:</span>\n                <input\n                  type=\"number\"\n                  value={editDuration}\n                  onChange={(e) => setEditDuration(parseInt(e.target.value) || 60)}\n                  min=\"15\"\n                  max=\"480\"\n                  step=\"15\"\n                  className=\"text-xs border border-gray-300 rounded px-2 py-1 w-16 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <span className=\"text-xs text-gray-500\">min</span>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={handleEditSave}\n                  className=\"p-1 text-green-600 hover:text-green-700 transition-colors\"\n                  title=\"Save changes\"\n                >\n                  <CheckIcon className=\"h-4 w-4\" />\n                </button>\n                <button\n                  onClick={handleEditCancel}\n                  className=\"p-1 text-gray-400 hover:text-gray-600 transition-colors\"\n                  title=\"Cancel editing\"\n                >\n                  <XMarkIcon className=\"h-4 w-4\" />\n                </button>\n              </div>\n            </div>\n          ) : (\n            // View mode\n            <div>\n              <div className=\"flex items-center space-x-2 mb-1\">\n                <ClockIcon className=\"h-4 w-4 text-gray-400\" />\n                <span className=\"text-sm font-medium text-gray-900\">\n                  {item.time}\n                </span>\n                <button\n                  onClick={handleEditStart}\n                  className=\"p-1 text-gray-400 hover:text-blue-500 transition-colors\"\n                  title=\"Edit time\"\n                >\n                  <PencilIcon className=\"h-3 w-3\" />\n                </button>\n              </div>\n              <h4 className=\"text-sm font-medium text-gray-900 mb-1\">\n                {item.title}\n              </h4>\n              {item.description && (\n                <p className=\"text-xs text-gray-500 truncate\">\n                  {item.description}\n                </p>\n              )}\n              {item.duration && (\n                <p className=\"text-xs text-gray-400 mt-1\">\n                  Duration: {item.duration} minutes\n                </p>\n              )}\n            </div>\n          )}\n        </div>\n        <button\n          onClick={() => onRemove(item.id)}\n          className=\"ml-2 p-1 text-gray-400 hover:text-red-500 transition-colors\"\n          title=\"Remove from itinerary\"\n        >\n          <TrashIcon className=\"h-4 w-4\" />\n        </button>\n      </div>\n      \n      {isDragging && (\n        <div className=\"mt-2 text-xs text-blue-600 font-medium text-center\">\n          ðŸ”„ Drop on another day to move\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DraggableItineraryItem;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,KAAQ,WAAW,CACnC,OAASC,SAAS,CAAEC,SAAS,CAAEC,UAAU,CAAEC,SAAS,CAAEC,SAAS,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBASrG,KAAM,CAAAC,sBAA6D,CAAGC,IAAA,EAIhE,IAJiE,CACrEC,IAAI,CACJC,QAAQ,CACRC,QACF,CAAC,CAAAH,IAAA,CACC,KAAM,CAACI,SAAS,CAAEC,YAAY,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACkB,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAACa,IAAI,CAACO,IAAI,CAAC,CACnD,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGtB,QAAQ,CAACa,IAAI,CAACU,QAAQ,EAAI,EAAE,CAAC,CAErE,KAAM,CAAC,CAAEC,UAAW,CAAC,CAAEC,IAAI,CAAC,CAAGxB,OAAO,CAAC,KAAO,CAC5CyB,IAAI,CAAE,gBAAgB,CACtBb,IAAI,CAAEA,IAAI,CACVc,OAAO,CAAGC,OAAO,GAAM,CACrBJ,UAAU,CAAEI,OAAO,CAACJ,UAAU,CAAC,CACjC,CAAC,CACH,CAAC,CAAC,CAAC,CAEH,KAAM,CAAAK,eAAe,CAAGA,CAAA,GAAM,CAC5BZ,YAAY,CAAC,IAAI,CAAC,CAClBE,WAAW,CAACN,IAAI,CAACO,IAAI,CAAC,CACtBE,eAAe,CAACT,IAAI,CAACU,QAAQ,EAAI,EAAE,CAAC,CACtC,CAAC,CAED,KAAM,CAAAO,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIf,QAAQ,CAAE,CACZA,QAAQ,CAACF,IAAI,CAACkB,EAAE,CAAE,CAChBX,IAAI,CAAEF,QAAQ,CACdK,QAAQ,CAAEF,YACZ,CAAC,CAAC,CACJ,CACAJ,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAED,KAAM,CAAAe,gBAAgB,CAAGA,CAAA,GAAM,CAC7Bf,YAAY,CAAC,KAAK,CAAC,CACnBE,WAAW,CAACN,IAAI,CAACO,IAAI,CAAC,CACtBE,eAAe,CAACT,IAAI,CAACU,QAAQ,EAAI,EAAE,CAAC,CACtC,CAAC,CAED,mBACEb,KAAA,QACEuB,GAAG,CAAER,IAAK,CACVS,SAAS,yFAAAC,MAAA,CACPX,UAAU,CACN,yCAAyC,CACzC,6BAA6B,CAChC,CAAAY,QAAA,eAEH1B,KAAA,QAAKwB,SAAS,CAAC,kCAAkC,CAAAE,QAAA,eAC/C5B,IAAA,QAAK0B,SAAS,CAAC,QAAQ,CAAAE,QAAA,CACpBpB,SAAS,cACR;AACAN,KAAA,QAAKwB,SAAS,CAAC,WAAW,CAAAE,QAAA,eACxB1B,KAAA,QAAKwB,SAAS,CAAC,6BAA6B,CAAAE,QAAA,eAC1C5B,IAAA,CAACN,SAAS,EAACgC,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC/C1B,IAAA,UACEkB,IAAI,CAAC,MAAM,CACXW,KAAK,CAAEnB,QAAS,CAChBoB,QAAQ,CAAGC,CAAC,EAAKpB,WAAW,CAACoB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7CH,SAAS,CAAC,sGAAsG,CACjH,CAAC,EACC,CAAC,cACNxB,KAAA,QAAKwB,SAAS,CAAC,6BAA6B,CAAAE,QAAA,eAC1C5B,IAAA,SAAM0B,SAAS,CAAC,uBAAuB,CAAAE,QAAA,CAAC,WAAS,CAAM,CAAC,cACxD5B,IAAA,UACEkB,IAAI,CAAC,QAAQ,CACbW,KAAK,CAAEhB,YAAa,CACpBiB,QAAQ,CAAGC,CAAC,EAAKjB,eAAe,CAACmB,QAAQ,CAACF,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAI,EAAE,CAAE,CACjEK,GAAG,CAAC,IAAI,CACRC,GAAG,CAAC,KAAK,CACTC,IAAI,CAAC,IAAI,CACTV,SAAS,CAAC,2GAA2G,CACtH,CAAC,cACF1B,IAAA,SAAM0B,SAAS,CAAC,uBAAuB,CAAAE,QAAA,CAAC,KAAG,CAAM,CAAC,EAC/C,CAAC,cACN1B,KAAA,QAAKwB,SAAS,CAAC,6BAA6B,CAAAE,QAAA,eAC1C5B,IAAA,WACEqC,OAAO,CAAEf,cAAe,CACxBI,SAAS,CAAC,2DAA2D,CACrEY,KAAK,CAAC,cAAc,CAAAV,QAAA,cAEpB5B,IAAA,CAACH,SAAS,EAAC6B,SAAS,CAAC,SAAS,CAAE,CAAC,CAC3B,CAAC,cACT1B,IAAA,WACEqC,OAAO,CAAEb,gBAAiB,CAC1BE,SAAS,CAAC,yDAAyD,CACnEY,KAAK,CAAC,gBAAgB,CAAAV,QAAA,cAEtB5B,IAAA,CAACF,SAAS,EAAC4B,SAAS,CAAC,SAAS,CAAE,CAAC,CAC3B,CAAC,EACN,CAAC,EACH,CAAC,cAEN;AACAxB,KAAA,QAAA0B,QAAA,eACE1B,KAAA,QAAKwB,SAAS,CAAC,kCAAkC,CAAAE,QAAA,eAC/C5B,IAAA,CAACN,SAAS,EAACgC,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC/C1B,IAAA,SAAM0B,SAAS,CAAC,mCAAmC,CAAAE,QAAA,CAChDvB,IAAI,CAACO,IAAI,CACN,CAAC,cACPZ,IAAA,WACEqC,OAAO,CAAEhB,eAAgB,CACzBK,SAAS,CAAC,yDAAyD,CACnEY,KAAK,CAAC,WAAW,CAAAV,QAAA,cAEjB5B,IAAA,CAACJ,UAAU,EAAC8B,SAAS,CAAC,SAAS,CAAE,CAAC,CAC5B,CAAC,EACN,CAAC,cACN1B,IAAA,OAAI0B,SAAS,CAAC,wCAAwC,CAAAE,QAAA,CACnDvB,IAAI,CAACiC,KAAK,CACT,CAAC,CACJjC,IAAI,CAACkC,WAAW,eACfvC,IAAA,MAAG0B,SAAS,CAAC,gCAAgC,CAAAE,QAAA,CAC1CvB,IAAI,CAACkC,WAAW,CAChB,CACJ,CACAlC,IAAI,CAACU,QAAQ,eACZb,KAAA,MAAGwB,SAAS,CAAC,4BAA4B,CAAAE,QAAA,EAAC,YAC9B,CAACvB,IAAI,CAACU,QAAQ,CAAC,UAC3B,EAAG,CACJ,EACE,CACN,CACE,CAAC,cACNf,IAAA,WACEqC,OAAO,CAAEA,CAAA,GAAM/B,QAAQ,CAACD,IAAI,CAACkB,EAAE,CAAE,CACjCG,SAAS,CAAC,6DAA6D,CACvEY,KAAK,CAAC,uBAAuB,CAAAV,QAAA,cAE7B5B,IAAA,CAACL,SAAS,EAAC+B,SAAS,CAAC,SAAS,CAAE,CAAC,CAC3B,CAAC,EACN,CAAC,CAELV,UAAU,eACThB,IAAA,QAAK0B,SAAS,CAAC,oDAAoD,CAAAE,QAAA,CAAC,0CAEpE,CAAK,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,sBAAsB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}